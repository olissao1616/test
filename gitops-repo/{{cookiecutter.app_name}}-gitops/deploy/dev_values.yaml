global:
  environment: development
  openshift: true

environment: development

keycloak:
  enabled: true
  authUrl: https://sso-e27db1-dev.apps.gold.devops.gov.bc.ca/auth
  realm: ISB
  realmUrl: https://sso-e27db1-dev.apps.gold.devops.gov.bc.ca/auth/realms/ISB
  clientId: react-baseapp
  adminClientId: WEB-API
  ClientId: WEB-API

postgresql:
  enabled: true
  auth:
    existingSecret: "{{cookiecutter.app_name}}-postgresql-auth"
  # These are passed through to the Bitnami postgresql subchart so kube-linter
  # can enforce ownership metadata on the StatefulSet.
  commonLabels:
    environment: development
    owner: "{{cookiecutter.team_name}}"
    project: "{{cookiecutter.project_name}}"
  commonAnnotations:
    email: "{{cookiecutter.team_name}}@gov.bc.ca"
  primary:
    # OpenShift uses SCC-assigned, namespace-specific UIDs.
    # Avoid fixed UID/GID + fsGroup in the Bitnami subchart.
    podSecurityContext:
      enabled: true
      seccompProfile:
        type: RuntimeDefault
    containerSecurityContext:
      enabled: true
      runAsNonRoot: true
      allowPrivilegeEscalation: false
      readOnlyRootFilesystem: true
      capabilities:
        drop:
          - ALL
    initdb:
      # Keep SQL out of this values file; see chart template that builds the ConfigMap.
      scriptsConfigMap: "{{cookiecutter.app_name}}-postgresql-initdb"

frontend:
  route:
    host: react-baseapp-{{cookiecutter.licence_plate}}-dev.apps.emerald.devops.gov.bc.ca
  apiUrl: "{{cookiecutter.app_name}}-webapi-core:8080"

backend:
  database:
    existingSecret: "{{cookiecutter.app_name}}-database"
    existingSecretKey: connectionString
